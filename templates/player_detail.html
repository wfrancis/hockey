{% extends "base.html" %}

{% block title %}{{ player.name }} - Hockey Stats{% endblock %}

{% block content %}
<h2 style="color: #2d3748; margin-bottom: 20px;">
    <span class="player-number">#{{ player.number }}</span>
    {{ player.name }} - Detailed Statistics
</h2>

<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-value {% if total_stats.plus_minus > 0 %}stat-positive{% elif total_stats.plus_minus < 0 %}stat-negative{% endif %}">
            {% if total_stats.plus_minus > 0 %}+{% endif %}{{ total_stats.plus_minus }}
        </div>
        <div class="stat-label">Plus/Minus (+/-)</div>
    </div>
</div>

<h3 style="color: #4a5568; margin: 30px 0 20px;">Game History</h3>

{% if game_stats %}
<table>
    <thead>
        <tr>
            <th>Date</th>
            <th>Game</th>
            <th>Plus/Minus</th>
        </tr>
    </thead>
    <tbody>
        {% for stat in game_stats %}
        <tr>
            <td>{{ stat.game_date.strftime('%Y-%m-%d %I:%M %p') }}</td>
            <td>{% if stat.game_name %}{{ stat.game_name|linkify|safe }}{% else %}<span style="color: #a0aec0;">â€”</span>{% endif %}</td>
            <td class="{% if stat.plus_minus > 0 %}stat-positive{% elif stat.plus_minus < 0 %}stat-negative{% else %}stat-neutral{% endif %}">
                {% if stat.plus_minus > 0 %}+{% endif %}{{ stat.plus_minus }}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p style="text-align: center; color: #718096; margin: 30px 0;">No game statistics recorded yet.</p>
{% endif %}

<div style="margin-top: 30px; text-align: center;">
    <a href="{{ url_for('index') }}" class="btn">Back to Dashboard</a>
</div>
{% endblock %}